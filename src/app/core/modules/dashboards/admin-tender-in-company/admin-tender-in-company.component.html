<app-admin-header></app-admin-header>
<app-admin-sidebar></app-admin-sidebar>
<div class="container">
<div class="" style="margin-top: 100px">
    <ul class="breadcrumb ">
        <li class="breadcrumb-item">
            <a [routerLink]="['/admin']">Dashboard</a>
        </li>
        <li class="breadcrumb-item">
            <a [routerLink]="['/admin','tenders','mine']">All Tenders</a>
        </li>
        <li class="breadcrumb-item ">
           {{tenderId}}
        </li>
        <li class="breadcrumb-item active">
            View
         </li>
    </ul>
  </div>
  <br>
  <div class="row ">
    <div class="pull-left col-sm-10">
        <button class="btn btn-danger ml-3 mr-2" style="width: 100px; height: 35px;" (click)="deleteTender(tenderId)">Delete</button>
        <button class="btn edit-green" style="width: 100px; height: 35px;" [routerLink]="['/admin','tenders',tenderId,'edit']" >Edit</button>
    </div>
    <div class="col-sm-2">
      <button class="btn btn-blue "  style="width: 100%" (click)="goViewBySchool(tenderId)">View by school</button>
    </div>
    <br><br>
      <div class="col-sm-12">
          <!-- 8310  -->
              <div class="card card-big">
                <div class="card-title mx-4 mt-2">
                  <!-- Taj tenders  <br> {{this.date | date}}
                  <div class="pull-right">
                     <button class="btn view-btn" [routerLink]="['/school/tender/view']">View</button>
                  </div>  -->
                  <div class="row">
                    <div class="col-sm-3 ml-1">
                        {{ tenderRequest.tender_title }}  <br> {{tenderRequest.tender_display_date | date:'short'}}
                    </div>
                    <div class="col-sm-3">
                        <span class="card-h"> Requests</span> <br> <i class="fa fa-shopping-cart mr-1"></i> <span class="card-content text-center">{{ tender.response_count }}</span> 
                    </div>
                    <div class="col-sm-5 mt-1">
    
                        <div class="progress " style="font-size: 18px">
                            
                            <div class="progress-bar progress-bar-striped progress-bar-animated" 
                            role="progressbar"
                             aria-valuenow="75" 
                             aria-valuemin="0" 
                             aria-valuemax="100" 
                             [style.width.%]="progressPercentage"></div>
                         
                          </div>
                         
                          

                        


                        
                          <br> <div class="date-line" style="margin-top: -20px; margin-left: -30px">
                            {{tenderRequest.tender_display_date | date:'short'}}
                          </div>
                          <div style="margin-left: 200px;margin-top: -20px; font-size: 22px; color: gray"> {{progressStatus}}</div>
                    </div>
                    <br> <div class="date-line" style="margin-top: 25px; margin-left: -50px">
                      {{tenderRequest.tender_expire_date | date:'short'}}
                    </div>
                  </div>
                </div>
                <hr>
                  <div class="card-body">
                <div class="row">
                 <p class="color-grey ml-4">{{ tenderRequest.tender_explain }}</p>
                </div>
              </div>
              </div>
           
      </div>
  </div>    
  <div class="row mt-4 " >
    <div class="col-sm-2 ml-0 mr-3 skillhover" *ngFor="let cat of tenderRequest.category">
        <div class="card" style="width: 200px">
            <img class="card-img-top" src="../../../../../assets/images/books.png" alt="logo" width="100" height="100"> 
            <div class="card-body">
              <h5 class="card-title text-center"> {{ cat.cat_name }}</h5>
            </div>
          </div>
          
    </div>

    <!-- <div class="col-sm-2 ml-4 mr-3">
        <div class="card" style="width: 200px">
            <img class="card-img-top" src="../../../../../assets/images/pencils.png" alt="logo" width="100" height="100"> 
            <div class="card-body">
              <h5 class="card-title text-center">Pencils</h5>
             
            </div>
          </div>
          
    </div> -->

    <!-- <div class="col-sm-2 ml-3 mr-3">
        <div class="card" style="width: 200px">
            <img class="card-img-top" src="../../../../../assets/images/papers.png" alt="logo" width="100" height="100"> 
            <div class="card-body">
              <h5 class="card-title text-center">Papers</h5>
             
            </div>
          </div>
         
    </div> -->

    <!-- <div class="col-sm-2 ml-4 mr-3">
        <div class="card" style="width: 200px">
            <img class="card-img-top" src="../../../../../assets/images/pens.png" alt="logo" width="100" height="100"> 
            <div class="card-body">
              <h5 class="card-title text-center">Pens</h5>
             
            </div>
          </div>
          
    </div> -->

    <!-- <div class="col-sm-2 ml-4 mr-3">
        <div class="card" style="width: 200px">
            <img class="card-img-top" src="../../../../../assets/images/colors.png" alt="logo" width="100" height="100"> 
            <div class="card-body">
              <h5 class="card-title text-center">Colors</h5>
             
            </div>
          </div>
          
    </div> -->
  </div> 

  <div class="row mt-3" *ngIf="catExist">

    <div class="col-sm-12 mt-3 skillhover" *ngFor="let s of tenderRequest.schools">
        
        <div class="card card-big">
          <div class="card-title mx-4 mt-2">
            
            <div class="row">
              <div class="col-sm-1">
                 <img src="{{ s.school_logo_image }}" width="60" height="60" alt="logo" class="rounded-circle mt-3">
              </div>
              <div class="col-sm-2" style="margin-left: -20px">
                  Google.com <br>  {{s.t_date | date}}
              </div>
            </div>
             
           <hr>
           
            <div class="card-body">
          <div class="row ">
            <div class="col-sm-3 mt-4" *ngFor="let cat of s.categories">
                <button class="btn btn-default btn-sm" disabled="disabled" style="background-color: transparent; color: black; border: 1px solid black">{{ cat.category_name }}: ({{cat.count}}) Item</button>
                <hr>
            </div>
            
            
            
           
          
          </div>
        </div>
        </div>
        </div>
     
  </div>

  
  </div>
  </div>
  