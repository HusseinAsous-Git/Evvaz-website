
<div class="container">
    <div style="margin-top: 130px;"></div>

    <div class="row mt-5 mb-3">
      <div class="col-sm-1"></div>
      <div class="col-sm-8">
        <nav class="" >
          <ul class="breadcrumb ">
              <li class="breadcrumb-item">
                  <a [routerLink]="['/school']">Dashboard</a>
              </li>
              <li class="breadcrumb-item">
                  <a [routerLink]="['/school','tenders','mine']">Tenders</a>
              </li>
              <li class="breadcrumb-item active">
                  Stage
              </li>
             
          </ul>
        </nav>
      </div>
     
    </div>

<div class="row ">
  <div class="col-sm-12">
      
          <div class="card card-big">
            <div class="card-title mx-4 mt-2">
              <!-- Taj tenders  <br> {{this.date | date}}
              <div class="pull-right">
                 <button class="btn view-btn" [routerLink]="['/school/tender/view']">View</button>
              </div>  -->
              <div class="row">
                <div class="col-sm-3 ml-1">
                  {{ tender.tender.request_title }}  <br> {{tender.tender.request_display_date | date:'short'}}
                </div>
                <div class="col-sm-3">
                    <span class="card-h"> Requests</span> <br> <i class="fa fa-shopping-cart mr-1"></i> <span class="card-content text-center">{{ tender.tender.response_count }}</span> 
                </div>
                <div class="col-sm-5 mt-1">

                    <div class="progress ">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" [style.width.%]="progressPercentage"></div>
                      </div>
                      <br> <div class="date-line" style="margin-top: -20px; margin-left: -30px">
                        {{tender.tender.request_display_date | date:'short'}}
                      </div>
                      <div style="margin-left: 200px;margin-top: -20px; font-size: 22px; color: gray"> {{progressStatus}}</div>
                </div>
                <br> <div class="date-line" style="margin-top: 25px; margin-left: -50px">
                  {{tender.tender.request_expired_date | date:'short'}}
                </div>
              </div>
            </div>
            <hr>
              <div class="card-body">
            <div class="row">
             <p class="color-grey ml-4"> {{ tender.tender.request_explaination }} </p>
            </div>
          </div>
          </div>
       
  </div>
  
<!-- <div *ngIf="showCard"> -->
  <div class="col-sm-12 mt-3 skillhover" *ngFor="let company of companies; let i = index" >
      
          <div class="card card-big">
            <div class="card-title mx-4 mt-2">
              <!-- Taj tenders  <br> {{this.date | date}}
              <div class="pull-right">
                 <button class="btn view-btn" [routerLink]="['/school/tender/view']">View</button>
              </div>  -->
              <div class="row">
                <div class="col-sm-1">
                   <img src="{{ company.company_logo_image }}" width="60" height="60" alt="logo" class="rounded-circle">
                </div>
                <div class="col-sm-2" style="margin-left: -20px">
                    {{ company.company_name }} <br>  {{company.response_date | date}}
                </div>
              </div>
                <div class="pull-right" style="margin-top: -50px">
                    <i class="fa fa-usd "></i>   {{ company.responsed_cost }} 
                    <button class="btn btn-blue ml-4" appAgreeHighlight [toggle]="company.is_aproved" (click)="showPopup(company.response_id,company.is_aproved,i)" [disabled]="chosen">Agree</button>
                    <!-- && chosenId!=company.response_id ? true:null -->
                    <br> <p></p>
                </div>
             <hr>
              <div class="card-body">
            <div class="row">
             <p class="color-grey">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aspernatur voluptatibus, 
               iste, id doloribus voluptas maiores sed quis porro incidunt perspiciatis quam tenetur,
                nam culpa. Non enim deserunt corrupti reprehenderit aperiam? </p>
            </div>
          </div>
          </div>
          </div>
         

          <!-- start modal -->

<!-- end modal -->

  </div>
<!-- </div> -->
  <!-- <div *ngIf="!showCard">
    <p class="display-4 mt-5 mr-3"> <span style="color: gray; border: green" > Your request has deliverd successfully </span><i class="fa fa-check" ></i></p>
  </div> -->
  

  

  </div>
  </div>

  <button type="button" [hidden]="true" class="btn btn-primary" id="openModalButton" data-toggle="modal" data-target="#exampleModal">
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Becareful you can agree to only one offer..</h5>
          <button type="button" class="close ps-Close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
           Press, Ok if you're sure
        </div>
        
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-dismiss="modal" (click)="agree()" >OK</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close" >Cancel</button>
        </div>
      </div>
    </div>
  </div>